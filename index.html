<!doctype html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="google" content="notranslate" />
    <link rel="icon" type="image/svg+xml" href="/logo.svg" />
    <link rel="apple-touch-icon" href="/logo.svg" />
    <link rel="manifest" href="/manifest.json" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
    <script>
      window.OneSignalDeferred = window.OneSignalDeferred || [];
      OneSignalDeferred.push(async function(OneSignal) {
        await OneSignal.init({
          appId: "99f7b2f1-0f40-4bae-a90b-6ca8777042f9",
          notifyButton: {
            enable: false,
          },
        });
      });
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <title>Memora</title>
    <script>
      window.onerror = function(msg, url, line, col, error) {
        var div = document.createElement('div');
        div.style.color = 'red';
        div.style.position = 'fixed';
        div.style.top = '0';
        div.style.left = '0';
        div.style.backgroundColor = 'white';
        div.style.zIndex = '99999';
        div.style.padding = '20px';
        div.innerHTML = '<h3>Errore Globale:</h3>' + msg + '<br>URL: ' + url + '<br>Linea: ' + line;
        document.body.appendChild(div);
      };
    </script>
  </head>
    <body style="margin: 0; padding: 0; background-color: white;">
    <div id="root" style="width:100%;height:100%;min-height:100dvh;display:flex;flex-direction:column;align-items:stretch;">
      <div style="flex:1;display:flex;align-items:center;justify-content:center;font-family:sans-serif;color:#92487A;font-weight:bold;font-size:20px;text-align:center;padding:20px;">CARICAMENTO MEMORA...</div>
    </div>
    
    <script>
      // Timer di emergenza: se dopo 8 secondi non Ã¨ apparso nulla, avvisiamo l'utente
      setTimeout(function() {
        var root = document.getElementById('root');
        if (root && root.innerHTML.indexOf('CARICAMENTO') !== -1) {
          root.innerHTML = '<div style="color:#E67E22;">' +
            '<h3 style="margin-bottom:10px;">L\'app sta impiegando troppo tempo...</h3>' +
            '<p style="font-size:14px; color:#666;">Controlla la tua connessione internet o prova a chiudere e riaprire l\'app.</p>' +
            '</div>';
        }
      }, 8000);
    </script>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
